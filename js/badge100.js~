/* * BADGE file Javascript * http://nme.ist.utl.pt/ * * Copyright (c) 2010 NME * written by Joao Pargana @ NME * * Date: 2010-12-14 * Revision: 1 *///<![CDATA[function insertISTBadge(){    var cssURL = 'http://www.ist.utl.pt/files/media/media-kit/badge100.css';    var colorOpt;	    // Load/Insert CSS    if (document.createStyleSheet)    {        // IE browsers        document.createStyleSheet(cssURL);    }    else    {		var newCSS=document.createElement('link');		newCSS.rel='stylesheet';		newCSS.href= cssURL;		newCSS.type="text/css";				document.getElementsByTagName("head")[0].appendChild(newCSS);    }    	// Insert badge		var bodyElement = document.getElementsByTagName("body")[0];	var s = document.getElementsByTagName("script");    	for(var i=0; i<s.length;i++){				var jsName = s[i].getAttribute('src');        if (jsName != undefined) {            jsName = jsName.split("?",2)[0];            jsName = jsName.split("/").reverse()[0];                    if( jsName == 'badge100.js'){				var jsOptions = s[i].getAttribute('src').split("?",2)[1];					            if (jsOptions != undefined ) {	                jsOptions = jsOptions.split("&");	                for (var j=0;j<jsOptions.length;j++)	                {	                    var opt = jsOptions[j].split("=");	                    switch(opt[0]){	                        case 'color':	                            colorOpt = opt[1];	                        break;	                    }	                }	            }			                var div = document.createElement('div');	                div.innerHTML = '<a href="http://100.ist.utl.pt" title="Instituto Superior Técnico 1911–2011">Instituto Superior Técnico 1911–2011</a>';			                switch(colorOpt){
                        case 'blue': color = 'blue';break;                        default:color = 'black';break;                }                div.setAttribute("class", "centenario " + color);                // issue related with IE7 and IE6                div.setAttribute("className", "centenario " + color);                           bodyElement.appendChild(div);            }        }	}};//setup onload functionif(typeof window.addEventListener != 'undefined'){    //.. gecko, safari, konqueror and standard    window.addEventListener('load', insertISTBadge, false);}else if(typeof document.addEventListener != 'undefined'){    //.. opera     document.addEventListener('load', insertISTBadge, false);}else if(typeof window.attachEvent != 'undefined'){    //.. win/ie    window.attachEvent('onload', insertISTBadge);}//]]>